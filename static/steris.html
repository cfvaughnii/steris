<!DOCTYPE HTML>
<html>
  <head>
  <meta charset="utf-8">
  <title>jQuery UI Slider - Range slider</title>
 
    
    <script src="jquery-2.1.1.js"></script>
    <script src="jquery-ui.js"></script>
    <script src="opentok.js" ></script>

    <script type="text/javascript" src="AppJson.js"></script>
    <script type="text/javascript" src="steris.js"></script>
    <link href="css/edison.css" type="text/css" rel="stylesheet" >

  </head>
  <body>
    
    <div id="container" >
      <div id="left">
        <meter id="subscriberMeter"></meter>
        <button id="doPublishVideoButton">Publish Video</button>
        <button id="doPublishVoiceButton">Publish Voice</button>
        <button id="stopPublishButton">Stop Publish</button>
        <br>
        <button id="hangupCall">Hangup Call</button>
        <br>
        <button id="acceptCall">Accept Call</button>
        <button id="hangupMessage">Hangup Message</button>
        <br>
        <button id="audioToggle">Audio Toogle</button>
        <button id="videoToggle">Video Toggle</button>
        <br>
        <button id="showAll">Show All</button>
        <button id="hideAll">Hide All</button>
      </div>
      <div id="video_area">
       <div id="OT_them_view"></div>
        <div id="OT_us_view"></div>
      </div>
    </div>
    <script type="text/javascript" charset="utf-8">
      var publisher_audio_state = true;
      var publisher_video_state = true;
      var subscriber_audio_state = true;
      var subscriber_video_state = true;

          $("#doPublishVideoButton").click(function () {
            startPublish(true);
          });

          $("#doPublishVoiceButton").click(function () { 
            startPublish(false);
          });

          $("#stopPublishButton").click(function () { 
            stopPublish();
          });

          $("#acceptCall").click(function () { 
            send_message("accepted",JSON.stringify({"token":token}));
            session.publish(publisher);
          });

          $("#Stage_UserTile_Button2_id").click(function () { 
              send_message("acceptRequest", JSON.stringify({"token":token}));
          });

          $("#hangupMessage").click(function () { 
              send_message("hangupSubscriber", JSON.stringify({"token":token}));
              send_message("hangupPublisher", JSON.stringify({"token":token}));
          });

          $("#hangupCall").click(function () { 
              hangupSubscriber();
              hangupPublisher();
          });

          $("#showAll").click(function () { 
              showAll();
          });

          $("#hideAll").click(function () { 
              hideAll();
          });

          $("#audioToggle").click(function () { 
              publisher_audio_state = !publisher_audio_state;
              publisher.publishAudio(publisher_audio_state);
          });

          $("#videoToggle").click(function () { 
              publisher_video_state = !publisher_video_state;
              publisher.publishVideo(publisher_video_state);
          });
      initialize_session();


    </script>
</body>
</html>
